from urllib.request import urlopen
from bs4 import BeautifulSoup

html = urlopen("https://www.tfrrs.org/results/70849/4360880/Big_Dawg_Invitational/")
soup=BeautifulSoup(html.read());
resultsTable=soup.find("tbody")
resultsAndNames=resultsTable.find_all("tr")
namesRows = []
marksRows = []
#Only need nameRows gets name can verify college and also give best mark of meet
#Grab rows of point throwers
#Sort through the rows to grab names and marks
#print out the marks

#Gonna need to grab all marks from meet as cant figure out how to extract best mark of meet from namesRows
#I belive the code from before works will just need to format it a little was coming out with /name
# just had a thought maybe it is from prettify the \n CHECK THIS FIRST NEXT TIME
names=[]
highestmark=[]

a=0
for i in resultsAndNames:
    if a%2==0:
        if "Wis_Stevens_Point" in resultsAndNames[a].find("a")["href"]:
            namesRows.append(resultsAndNames[a])
            b=a+1
            marksRows.append(resultsAndNames[b])
    a=a+1

a=0
for i in namesRows:
    round = namesRows[a].find(class_=True).attrs['class'][0]
    highestmark.append(namesRows[a].find("td", { "class" : round}).getText())
    names.append(namesRows[a].find("a").getText())
    a=a+1

a=0
marksFormatted=[]

for i in marksRows:
    marks=marksRows[a].findAll("li")
    b=0
    c=[]
    for i in marks:
        marks[b]=marks[b].getText().strip().strip("m")
        if marks[b]=='' :
            break
        c.append(marks[b])
        b=b+1
        print(c)
    marksFormatted.append(c)
    a=a+1

highestMarks = []
throwNumbers = []
a=0
for i in marksFormatted:
    championMark=0
    throwNumber=0
    b=0
    for i in marksFormatted[a]:
        if marksFormatted[a][b] =='FOUL':
            marksFormatted[a][b]=0
        if float(marksFormatted[a][b])>championMark:
            championMark=float(marksFormatted[a][b])
            throwNumber=b+1
        b=b+1
    highestMarks.append(championMark)
    throwNumbers.append(throwNumber)
    a=a+1


a=0
for i in names:
    print(names[a], " threw ", highestMarks[a], " on throw ", throwNumbers[a])
    a=a+1





text=resultsTable.prettify()
f = open(r"C:\Users\akopp\Desktop\print\track\results.txt", "a", encoding="utf-8")
f.write(text)
f.close()